{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "070b0838",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df.head(30)\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "5c06371f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "2f2c5608",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Dependencies and Set Up\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import scipy.stats as st\n",
    "from scipy.stats import linregress\n",
    "import seaborn as sns  # For heatmap visualization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "00cd92db",
   "metadata": {},
   "outputs": [],
   "source": [
    "%notebook widget"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "e5170586",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a path to the file making it into a dataframe\n",
    "rent_file = pd.read_csv(\"Raw_Price_Data//price.csv\")\n",
    "\n",
    "rent_df = pd.DataFrame(rent_file)\n",
    "\n",
    "rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "cac39813",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Identifying what columns are missing data\n",
    "clean_rent_df = rent_df.dropna(how = 'any')\n",
    "\n",
    "clean_rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "6d4b14c0",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Extracting states from data (CA, IL, NY, TX)\n",
    "four_states = [\"NY\", \"CA\", \"IL\", \"TX\"]\n",
    "\n",
    "four_states_df = rent_df[rent_df['State'].isin(four_states)]\n",
    "\n",
    "four_states_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "747091ae",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Droping all NaN values\n",
    "rent_df.dropna(inplace = True)\n",
    "\n",
    "#Display the DataFrame\n",
    "rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "aed408fc",
   "metadata": {},
   "outputs": [],
   "source": [
    "#New York Data Frame\n",
    "NY_state = [\"NY\"]\n",
    "\n",
    "NY_state_df = rent_df[rent_df['State'].isin(NY_state)]\n",
    "\n",
    "NY_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "300bfae8",
   "metadata": {},
   "outputs": [],
   "source": [
    "#California Data Frame\n",
    "CA_state = [\"CA\"]\n",
    "\n",
    "CA_state_df = rent_df[rent_df['State'].isin(CA_state)]\n",
    "\n",
    "CA_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "3c9b8f89",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Illinois Data Frame\n",
    "IL_state = [\"IL\"]\n",
    "\n",
    "IL_state_df = rent_df[rent_df['State'].isin(IL_state)]\n",
    "\n",
    "IL_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "d94ec805",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Texas Data Frame\n",
    "TX_state = [\"TX\"]\n",
    "\n",
    "TX_state_df = rent_df[rent_df['State'].isin(TX_state)]\n",
    "\n",
    "TX_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "6a1bcd2f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making all of the columsn into a list\n",
    "columns_list = ['January 2011',\n",
    "'February 2011','March 2011','April 2011','May 2011','June 2011','July 2011',\n",
    "'August 2011','September 2011','October 2011','November 2011','December 2011',\n",
    "'January 2012','February 2012','March 2012','April 2012','May 2012','June 2012',\n",
    "'July 2012','August 2012','September 2012','October 2012','November 2012','December 2012',\n",
    "'January 2013','February 2013','March 2013','April 2013','May 2013','June 2013','July 2013',\n",
    "'August 2013','September 2013','October 2013','November 2013','December 2013','January 2014',\n",
    "'February 2014','March 2014','April 2014','May 2014','June 2014','July 2014','August 2014',\n",
    "'September 2014','October 2014','November 2014','December 2014','January 2015','February 2015',\n",
    "'March 2015','April 2015','May 2015','June 2015','July 2015','August 2015','September 2015','October 2015',\n",
    "'November 2015','December 2015','January 2016','February 2016','March 2016','April 2016','May 2016',\n",
    "'June 2016','July 2016','August 2016','September 2016','October 2016','November 2016','December 2016']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "550722a6",
   "metadata": {},
   "outputs": [],
   "source": [
    "# US median rent prices\n",
    "US_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    US_med_rent = np.median(clean_rent_df[i])\n",
    "\n",
    "    US_med_list.append(US_med_rent)\n",
    "\n",
    "print(US_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "1c9131f1",
   "metadata": {},
   "outputs": [],
   "source": [
    "US_med_df = pd.DataFrame(US_med_list, columns_list).T \n",
    "\n",
    "US_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "ddac1230",
   "metadata": {},
   "outputs": [],
   "source": [
    "# For loop to calculate the median value of each column in IL\n",
    "IL_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    IL_med_rent = np.median(IL_state_df[i])\n",
    "\n",
    "    IL_med_list.append(IL_med_rent)\n",
    "\n",
    "print(IL_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "b7bb5aad",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting IL med rent prices for each month and year into a DF\n",
    "IL_med_df = pd.DataFrame(IL_med_list, columns_list).T \n",
    "\n",
    "IL_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "afac1088",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Califonia Combined Median Rents\n",
    "CA_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    CA_med_rent = np.median(CA_state_df[i])\n",
    "\n",
    "    CA_med_list.append(CA_med_rent)\n",
    "\n",
    "print(CA_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "f8576c75",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting CA med rent prices for each month and year into a DF\n",
    "CA_med_df = pd.DataFrame(CA_med_list, columns_list).T \n",
    "\n",
    "CA_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "409fb889",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Finding the median for all TX rent prices per month/year\n",
    "TX_med_list=[]\n",
    "for i in columns_list:\n",
    "\n",
    "    TX_med_rent = np.median(TX_state_df[i])\n",
    "\n",
    "    TX_med_list.append(TX_med_rent)\n",
    "\n",
    "print(TX_med_list)  \n",
    "\n",
    "   "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "3f094eba",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting TX med rent prices for each month and year into a DF\n",
    "TX_med_df = pd.DataFrame(TX_med_list, columns_list).T \n",
    "\n",
    "TX_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "fb4c9e51",
   "metadata": {},
   "outputs": [],
   "source": [
    "#New York\n",
    "NY_med_list=[]\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    NY_med_rent = np.median(NY_state_df[i])\n",
    "    NY_med_list.append(NY_med_rent)\n",
    "\n",
    "print(NY_med_list)  "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "bfcbfdee",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Putting NY med rent prices for each month and year into a DF\n",
    "NY_med_df = pd.DataFrame(NY_med_list, columns_list).T \n",
    "\n",
    "NY_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "620981e3",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Combined Median rent data for 4 states\n",
    "TX_CA_df = pd.concat([TX_med_df, CA_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "IL_NY_df = pd.concat([IL_med_df, NY_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "states_med_rent = pd.concat([TX_CA_df, IL_NY_df], axis=0, ignore_index=True)\n",
    "\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "states_med_rent.insert(0, \"States\", [\"TX\", \"CA\", \"IL\", \"NY\"])\n",
    "\n",
    "states_med_rent.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "99f0595e",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Create a table with US Med in it\n",
    "\n",
    "ALL_med_rent = pd.concat([states_med_rent, US_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "#ALL_med_rent.reset_index(drop=True)\n",
    "#ALL_med_rent.set_index('State', inplace=True, drop=True)\n",
    "#ALL_med_rent[ALL_med_rent.index[-1]] = \"US\"\n",
    "ALL_med_rent.insert(0, \"State\", [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"])\n",
    "\n",
    "ALL_med_rent.drop([\"States\"], axis = 1, inplace=True)\n",
    "ALL_med_rent.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "2a498854",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for TX by year and make df\n",
    "TX_2011_rents = [1194.0, 1189.0, 1186.0, 1183.0, 1182.0, 1189.0, 1184.0, 1179.0, 1181.0, 1174.0, 1173.0, 1167.0]\n",
    "TX_2012_rents = [1164.0, 1162.0, 1165.0, 1159.0, 1155.0, 1158.0, 1168.0, 1172.0, 1177.0, 1179.0, 1173.0, 1171.0]\n",
    "TX_2013_rents = [1175.0, 1174.0, 1181.0, 1196.0, 1202.0, 1200.0, 1197.0, 1201.0, 1205.0, 1208.0, 1212.0, 1221.0]\n",
    "TX_2014_rents = [1224.0, 1224.0, 1222.0, 1225.0, 1221.0, 1218.0, 1221.0, 1234.0, 1245.0, 1256.0, 1272.0, 1275.0]\n",
    "TX_2015_rents = [1282.0, 1287.0, 1289.0, 1297.0, 1300.0, 1309.0, 1313.0, 1319.0, 1323.0, 1325.0, 1320.0, 1312.0]\n",
    "TX_2016_rents = [1313.0, 1319.0, 1326.0, 1325.0, 1338.0, 1346.0, 1350.0, 1343.0, 1340.0, 1335.0, 1335.0, 1337.0]\n",
    "\n",
    "\n",
    "TX_2011_med = np.median(TX_2011_rents)\n",
    "TX_2012_med = np.median(TX_2012_rents)\n",
    "TX_2013_med = np.median(TX_2013_rents)\n",
    "TX_2014_med = np.median(TX_2014_rents)\n",
    "TX_2015_med = np.median(TX_2015_rents)\n",
    "TX_2016_med = np.median(TX_2016_rents)\n",
    "\n",
    "TX_yearly_rent = {\"2011\":[TX_2011_med], \"2012\" :[TX_2012_med], \"2013\" :[TX_2013_med], \"2014\" :[TX_2014_med], \"2015\" :[TX_2015_med], \"2016\" :[TX_2016_med]}\n",
    "\n",
    "TX_yearly_rent_df = pd.DataFrame(TX_yearly_rent)\n",
    "\n",
    "TX_yearly_rent_df.insert(0, \"State\", [\"TX\"])\n",
    "\n",
    "TX_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "TX_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "2b4fc036",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for CA by year and make df\n",
    "CA_2011_rents = [1770.0, 1754.0, 1738.5, 1729.0, 1716.5, 1717.5, 1719.5, 1718.0, 1712.5, 1710.5, 1710.0, 1705.0]\n",
    "CA_2012_rents = [1702.5, 1695.5, 1696.5, 1697.0, 1700.5, 1713.5, 1710.5, 1709.0, 1702.0, 1704.5, 1700.0, 1701.0]\n",
    "CA_2013_rents = [1707.5, 1718.5, 1728.0, 1735.0, 1743.0, 1756.5, 1763.0, 1764.5, 1767.0, 1773.5, 1779.5, 1781.5]\n",
    "CA_2014_rents = [1782.5, 1781.0, 1785.5, 1784.5, 1787.0, 1790.0, 1794.0, 1807.5, 1824.0, 1842.5, 1859.5, 1875.0]\n",
    "CA_2015_rents = [1885.0, 1899.0, 1907.0, 1921.5, 1935.0, 1946.0, 1957.0, 1969.0, 1977.0, 1982.0, 1995.0, 2004.0]\n",
    "CA_2016_rents = [2014.5, 2036.5, 2056.0, 2062.5, 2072.0, 2092.0, 2104.0, 2115.0, 2124.5, 2128.5, 2134.0, 2150.5]\n",
    "\n",
    "CA_2011_med = np.median(CA_2011_rents)\n",
    "CA_2012_med = np.median(CA_2012_rents)\n",
    "CA_2013_med = np.median(CA_2013_rents)\n",
    "CA_2014_med = np.median(CA_2014_rents)\n",
    "CA_2015_med = np.median(CA_2015_rents)\n",
    "CA_2016_med = np.median(CA_2016_rents)\n",
    "\n",
    "CA_yearly_rent = {\"2011\":[CA_2011_med], \"2012\" :[CA_2012_med], \"2013\" :[CA_2013_med], \"2014\" :[CA_2014_med], \"2015\" :[CA_2015_med], \"2016\" :[CA_2016_med]}\n",
    "\n",
    "CA_yearly_rent_df = pd.DataFrame(CA_yearly_rent)\n",
    "\n",
    "CA_yearly_rent_df.insert(0, \"State\", [\"CA\"])\n",
    "\n",
    "CA_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "CA_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "9c68d793",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for IL by year and make df\n",
    "IL_2011_rents = [1425.0, 1426.0, 1422.5, 1421.5, 1413.5, 1406.5, 1392.5, 1382.0, 1380.0, 1370.0, 1363.5, 1355.5]\n",
    "IL_2012_rents = [1349.0, 1344.0, 1341.0, 1344.0, 1344.0, 1347.5, 1347.0, 1346.0, 1351.0, 1359.5, 1371.0, 1370.0]\n",
    "IL_2013_rents = [1364.5, 1351.5, 1345.5, 1347.0, 1354.0, 1360.0, 1363.0, 1364.5, 1372.5, 1379.0, 1385.5, 1392.0]\n",
    "IL_2014_rents = [1399.0, 1400.5, 1395.0, 1393.0, 1387.0, 1385.5, 1379.5, 1384.0, 1385.0, 1386.5, 1397.0, 1406.5]\n",
    "IL_2015_rents = [1411.5, 1408.0, 1416.5, 1414.5, 1413.0, 1413.0, 1414.5, 1414.0, 1411.0, 1403.0, 1398.5, 1396.0]\n",
    "IL_2016_rents = [1405.5, 1408.0, 1413.0, 1416.5, 1424.5, 1424.0, 1431.0, 1426.5, 1418.0, 1410.0, 1405.0, 1397.0]\n",
    "\n",
    "IL_2011_med = np.median(IL_2011_rents)\n",
    "IL_2012_med = np.median(IL_2012_rents)\n",
    "IL_2013_med = np.median(IL_2013_rents)\n",
    "IL_2014_med = np.median(IL_2014_rents)\n",
    "IL_2015_med = np.median(IL_2015_rents)\n",
    "IL_2016_med = np.median(IL_2016_rents)\n",
    "\n",
    "IL_yearly_rent = {\"2011\":[IL_2011_med], \"2012\" :[IL_2012_med], \"2013\" :[IL_2013_med], \"2014\" :[IL_2014_med], \"2015\" :[IL_2015_med], \"2016\" :[IL_2016_med]}\n",
    "\n",
    "IL_yearly_rent_df = pd.DataFrame(IL_yearly_rent)\n",
    "\n",
    "IL_yearly_rent_df.insert(0, \"State\", [\"IL\"])\n",
    "\n",
    "IL_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "IL_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "171279b6",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for NY by year and make df\n",
    "NY_2011_rents = [1369.5, 1383.5, 1380.5, 1388.0, 1390.5, 1401.0, 1401.0, 1399.0, 1397.0, 1399.0, 1400.5, 1399.0]\n",
    "NY_2012_rents = [1391.5, 1383.0, 1376.0, 1378.0, 1396.0, 1411.0, 1428.5, 1438.0, 1437.5, 1431.0, 1417.5, 1416.0]\n",
    "NY_2013_rents = [1419.5, 1432.0, 1434.0, 1431.5, 1434.0, 1418.5, 1384.5, 1368.5, 1366.5, 1379.0, 1398.5, 1395.0]\n",
    "NY_2014_rents = [1378.5, 1360.0, 1357.5, 1351.0, 1341.0, 1342.0, 1362.5, 1382.0, 1400.5, 1410.0, 1418.5, 1430.0]\n",
    "NY_2015_rents = [1440.5, 1443.0, 1449.0, 1448.5, 1444.5, 1437.5, 1428.5, 1403.0, 1388.5, 1376.0, 1371.5, 1363.0]\n",
    "NY_2016_rents = [1368.0, 1365.0, 1374.5, 1380.0, 1385.5, 1390.5, 1401.5, 1399.0, 1394.5, 1392.5, 1389.5, 1386.5]\n",
    "\n",
    "NY_2011_med = np.median(NY_2011_rents)\n",
    "NY_2012_med = np.median(NY_2012_rents)\n",
    "NY_2013_med = np.median(NY_2013_rents)\n",
    "NY_2014_med = np.median(NY_2014_rents)\n",
    "NY_2015_med = np.median(NY_2015_rents)\n",
    "NY_2016_med = np.median(NY_2016_rents)\n",
    "\n",
    "NY_yearly_rent = {\"2011\":[NY_2011_med], \"2012\" :[NY_2012_med], \"2013\" :[NY_2013_med], \"2014\" :[NY_2014_med], \"2015\" :[NY_2015_med], \"2016\" :[NY_2016_med]}\n",
    "\n",
    "NY_yearly_rent_df = pd.DataFrame(NY_yearly_rent)\n",
    "\n",
    "NY_yearly_rent_df.insert(0, \"State\", [\"NY\"])\n",
    "\n",
    "NY_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "NY_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "bf55fd2d",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for US by year and make df\n",
    "US_2011_rents = [1218.0, 1219.0, 1220.0, 1220.0, 1218.0, 1217.0, 1214.0, 1213.0, 1210.0, 1207.0, 1206.0, 1205.0]\n",
    "US_2012_rents = [1204.0, 1205.0, 1207.0, 1206.0, 1205.0, 1205.0, 1205.0, 1206.0, 1208.0, 1210.0, 1215.0, 1215.0]\n",
    "US_2013_rents = [1215.0, 1216.0, 1217.0, 1217.0, 1218.0, 1221.0, 1224.0, 1225.0, 1228.0, 1231.0, 1235.0, 1236.0]\n",
    "US_2014_rents = [1236.0, 1234.0, 1232.0, 1229.0, 1227.0, 1223.0, 1226.0, 1232.0, 1245.0, 1253.0, 1259.0, 1263.0]\n",
    "US_2015_rents = [1269.0, 1272.0, 1276.0, 1280.0, 1284.0, 1289.0, 1295.0, 1299.0, 1298.0, 1294.0, 1293.0, 1292.0]\n",
    "US_2016_rents = [1294.0, 1298.0, 1303.0, 1308.0, 1312.0, 1313.0, 1311.0, 1306.0, 1305.0, 1305.0, 1307.0, 1308.0]\n",
    "\n",
    "US_2011_med = np.median(US_2011_rents)\n",
    "US_2012_med = np.median(US_2012_rents)\n",
    "US_2013_med = np.median(US_2013_rents)\n",
    "US_2014_med = np.median(US_2014_rents)\n",
    "US_2015_med = np.median(US_2015_rents)\n",
    "US_2016_med = np.median(US_2016_rents)\n",
    "\n",
    "US_yearly_rent = {\"2011\":[US_2011_med], \"2012\" :[US_2012_med], \"2013\" :[US_2013_med], \"2014\" :[US_2014_med], \"2015\" :[US_2015_med], \"2016\" :[US_2016_med]}\n",
    "\n",
    "US_yearly_rent_df = pd.DataFrame(US_yearly_rent)\n",
    "\n",
    "US_yearly_rent_df.insert(0, \"State\", [\"US\"])\n",
    "\n",
    "US_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "US_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "d901e511",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "id": "3f09c852",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[0,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[1,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[2,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[3,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "plt.title=(\"States vs. Median Rent Cost (2010-2017)\")\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "ca9fc901",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Starter code for visualizations-- just needs mods\n",
    "\n",
    "plt.figure(figsize=(10, 6))\n",
    "sns.lineplot(x='Year', y='November 2010', data=rent_df, ci=None)\n",
    "plt.title('Rent Prices Over Time')\n",
    "plt.xlabel('Year')\n",
    "plt.ylabel('Rent Price')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "21be3076",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df.head(30)\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "id": "daba60df",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df.head(30)\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "#ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "4acc9c81",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "91224e6a",
   "metadata": {},
   "outputs": [],
   "source": [
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "d359e24f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "id": "92f86b15",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(\"{:.0%}\".format(TX_rent_change))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "id": "8c4c0071",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "id": "a5fa2f77",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = (((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "id": "f13c9f83",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "id": "975746b2",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values)\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "id": "bc74c900",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values)\n",
    "\n",
    "ALL_rent_change_df.head(10).T"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "id": "653d2faf",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values)\n",
    "\n",
    "ALL_rent_change_df.head(10).T"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "id": "845dcc3f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Graph of US Rent change from 2011-2016\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "id": "9334199e",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "id": "bad2eaae",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.head(10).T"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "id": "e5d5b320",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(x='State', y='Rent', data=ALL_rent_change_df)\n",
    "plt.title('Average Rent Prices by State')\n",
    "plt.xlabel('State')\n",
    "plt.ylabel('Average Rent Price')\n",
    "plt.xticks(rotation=45)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "id": "6d1ebe21",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(data=ALL_rent_change_df)\n",
    "plt.title('Average Rent Prices by State')\n",
    "plt.xlabel('State')\n",
    "plt.ylabel('Average Rent Price')\n",
    "plt.xticks(rotation=45)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "id": "8151f822",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(data=ALL_rent_change_df)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "id": "180f03ed",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "id": "479e1d09",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(data=ALL_rent_change_df)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "id": "d4336949",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "id": "c9c11a96",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_rent_change_df.head(10).T"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "id": "ad5dbd92",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(values, columns)\n",
    "\n",
    "ALL_rent_change_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "id": "739c26e2",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "#values = [TX_rent_change, CA_rent_change, IL_rent_change, NY_rent_change, US_rent_change]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change = {\"TX\":[TX_rent_change], \"CA\" :[CA_rent_change], \"IL\" :[IL_rent_change], \"NY\" :[NY_rent_change], \"US\" :[US_rent_change]}\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(ALL_rent_change)\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "id": "7b341a14",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(data=ALL_rent_change_df)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "id": "5ae8ce79",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = (((US_yearly_rent_df[\"2016\"].astype('int')) - US_yearly_rent_df[\"2011\"].astype('int')) / US_yearly_rent_df[\"2011\"].astype('int')) * 100\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "id": "6c9674af",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = df[\"US\"].pct_change() #(((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "id": "371b3a8f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = US_yearly_rent_df[\"US\"].pct_change() #(((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "id": "56cad8a5",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = US_yearly_rent_df[0].pct_change() #(((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "id": "2b4216fc",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = US_yearly_rent_df[0].pct_change() #(((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = US_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016']\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "id": "e3c6a8f7",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Determining the overall change in rent prices by state (%)\n",
    "TX_rent_change = (((TX_yearly_rent_df[\"2016\"]) - TX_yearly_rent_df[\"2011\"]) / TX_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "CA_rent_change = (((CA_yearly_rent_df[\"2016\"]) - CA_yearly_rent_df[\"2011\"]) / CA_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "IL_rent_change = (((IL_yearly_rent_df[\"2016\"]) - IL_yearly_rent_df[\"2011\"]) / IL_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "NY_rent_change = (((NY_yearly_rent_df[\"2016\"]) - NY_yearly_rent_df[\"2011\"]) / NY_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "#US_rent_change = US_yearly_rent_df[0].pct_change() #(((US_yearly_rent_df[\"2016\"]) - US_yearly_rent_df[\"2011\"]) / US_yearly_rent_df[\"2011\"]) * 100\n",
    "\n",
    "US_rent_change = US_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016']\n",
    "\n",
    "print(TX_rent_change)\n",
    "print(CA_rent_change)\n",
    "print(IL_rent_change)\n",
    "print(NY_rent_change)\n",
    "print(US_rent_change)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "id": "4cd058da",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a DataFrame for all of the rent change (%)\n",
    "\n",
    "columns = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "\n",
    "values = [12.98, 22.14, 1.09, -0.72, 7.49]\n",
    "\n",
    "ALL_rent_change = {\"TX\":[TX_rent_change], \"CA\" :[CA_rent_change], \"IL\" :[IL_rent_change], \"NY\" :[NY_rent_change], \"US\" :[US_rent_change]}\n",
    "\n",
    "ALL_rent_change_df = pd.DataFrame(ALL_rent_change)\n",
    "\n",
    "ALL_rent_change_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "id": "e0b952c1",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016']\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "id": "410c6759",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "id": "0828b318",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "#ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "id": "22701906",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.barplot(data=ALL_yearly_rent_df['Rent Change (%)'])\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "id": "c403974f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df.plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "id": "1c28697b",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "id": "367110ab",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_yearly_rent_df.rename({0 : \"TX\", 1 : \"CA\", 2 : \"IL\", 3 : \"NY\", 4 : \"US\"}, axis='index', inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "id": "0bbbdec1",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_yearly_rent_df.set_index([\"State\"], inplace = False)\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "id": "848b7597",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_yearly_rent_df.set_index('State')\n",
    "\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "id": "a97b0e7e",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_yearly_rent_df.set_index(['State'], drop=True, append=False, inplace=False, verify_integrity=False)\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "id": "7df763f4",
   "metadata": {},
   "outputs": [],
   "source": [
    "#combine yearly rents in to one df\n",
    "TX_CA_yearly_rent_df = pd.concat([TX_yearly_rent_df, CA_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "TX_CA_yearly_rent_df\n",
    "\n",
    "IL_NY_yearly_rent_df = pd.concat([IL_yearly_rent_df, NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "IL_NY_yearly_rent_df\n",
    "\n",
    "states_yearly_rent_df = pd.concat([TX_CA_yearly_rent_df, IL_NY_yearly_rent_df], axis=0, ignore_index = True)\n",
    "\n",
    "states_yearly_rent_df\n",
    "\n",
    "ALL_yearly_rent_df = pd.concat([states_yearly_rent_df, US_yearly_rent_df], axis=0, ignore_index = True)\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "\n",
    "ALL_yearly_rent_df.insert(0, \"State\", ['TX', 'CA', 'IL', 'NY', 'US'])\n",
    "\n",
    "ALL_yearly_rent_df.set_index(['State'], drop=True, append=False, inplace=True, verify_integrity=False)\n",
    "#ALL_yearly_rent_df.reset_index()\n",
    "\n",
    "ALL_yearly_rent_df['Rent Change (%)'] = ((ALL_yearly_rent_df[['2011', '2016']].pct_change(axis=1)['2016'])* 100).round(2)\n",
    "\n",
    "ALL_yearly_rent_df.head(30)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "id": "37d726c4",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "id": "8dfda810",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")\n",
    "rent_change_bar.axvline (x= 0, color = 'black')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "id": "245b4a0a",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")\n",
    "rent_change_bar.axvline (y= 0, color = 'black')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "id": "b74d8486",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")\n",
    "rent_change_bar.axhline(y=0, color= 'green', linewidth=2,)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 81,
   "id": "5acd5d57",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")\n",
    "rent_change_bar.axhline(y=0, color= 'black', linewidth=1,)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "id": "cd70855c",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[0,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[1,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[2,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[3,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "plt.title(\"States vs. Median Rent Cost (2010-2017)\")\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 83,
   "id": "084d7491",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[0,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[1,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[2,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[3,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "plt.title=(\"States vs. Median Rent Cost (2010-2017)\")\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 84,
   "id": "514e053e",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[0,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[1,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[2,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[3,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "plt.title=(\"States vs. Median Rent Cost (2010-2017)\")\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "id": "93794f21",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[0,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[1,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[2,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[3,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 86,
   "id": "942ea434",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Dependencies and Set Up\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import scipy.stats as st\n",
    "from scipy.stats import linregress\n",
    "import seaborn as sns  # For heatmap visualization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 87,
   "id": "bec494bd",
   "metadata": {},
   "outputs": [],
   "source": [
    "%notebook widget"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "id": "74fd517b",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a path to the file making it into a dataframe\n",
    "rent_file = pd.read_csv(\"Raw_Price_Data//price.csv\")\n",
    "\n",
    "rent_df = pd.DataFrame(rent_file)\n",
    "\n",
    "rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "id": "35487192",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Identifying what columns are missing data\n",
    "clean_rent_df = rent_df.dropna(how = 'any')\n",
    "\n",
    "clean_rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "id": "783368d7",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Extracting states from data (CA, IL, NY, TX)\n",
    "four_states = [\"NY\", \"CA\", \"IL\", \"TX\"]\n",
    "\n",
    "four_states_df = rent_df[rent_df['State'].isin(four_states)]\n",
    "\n",
    "four_states_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "id": "cc8e1389",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Droping all NaN values\n",
    "rent_df.dropna(inplace = True)\n",
    "\n",
    "#Display the DataFrame\n",
    "rent_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "id": "ce7e1a28",
   "metadata": {},
   "outputs": [],
   "source": [
    "#New York Data Frame\n",
    "NY_state = [\"NY\"]\n",
    "\n",
    "NY_state_df = rent_df[rent_df['State'].isin(NY_state)]\n",
    "\n",
    "NY_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "id": "5635b277",
   "metadata": {},
   "outputs": [],
   "source": [
    "#California Data Frame\n",
    "CA_state = [\"CA\"]\n",
    "\n",
    "CA_state_df = rent_df[rent_df['State'].isin(CA_state)]\n",
    "\n",
    "CA_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "id": "b328adf3",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Illinois Data Frame\n",
    "IL_state = [\"IL\"]\n",
    "\n",
    "IL_state_df = rent_df[rent_df['State'].isin(IL_state)]\n",
    "\n",
    "IL_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "id": "0bdde87b",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Texas Data Frame\n",
    "TX_state = [\"TX\"]\n",
    "\n",
    "TX_state_df = rent_df[rent_df['State'].isin(TX_state)]\n",
    "\n",
    "TX_state_df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "id": "9f91f745",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making all of the columsn into a list\n",
    "columns_list = ['January 2011',\n",
    "'February 2011','March 2011','April 2011','May 2011','June 2011','July 2011',\n",
    "'August 2011','September 2011','October 2011','November 2011','December 2011',\n",
    "'January 2012','February 2012','March 2012','April 2012','May 2012','June 2012',\n",
    "'July 2012','August 2012','September 2012','October 2012','November 2012','December 2012',\n",
    "'January 2013','February 2013','March 2013','April 2013','May 2013','June 2013','July 2013',\n",
    "'August 2013','September 2013','October 2013','November 2013','December 2013','January 2014',\n",
    "'February 2014','March 2014','April 2014','May 2014','June 2014','July 2014','August 2014',\n",
    "'September 2014','October 2014','November 2014','December 2014','January 2015','February 2015',\n",
    "'March 2015','April 2015','May 2015','June 2015','July 2015','August 2015','September 2015','October 2015',\n",
    "'November 2015','December 2015','January 2016','February 2016','March 2016','April 2016','May 2016',\n",
    "'June 2016','July 2016','August 2016','September 2016','October 2016','November 2016','December 2016']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 97,
   "id": "8284259e",
   "metadata": {},
   "outputs": [],
   "source": [
    "# US median rent prices\n",
    "US_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    US_med_rent = np.median(clean_rent_df[i])\n",
    "\n",
    "    US_med_list.append(US_med_rent)\n",
    "\n",
    "print(US_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "id": "eddbeaa6",
   "metadata": {},
   "outputs": [],
   "source": [
    "US_med_df = pd.DataFrame(US_med_list, columns_list).T \n",
    "\n",
    "US_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "id": "e22462aa",
   "metadata": {},
   "outputs": [],
   "source": [
    "# For loop to calculate the median value of each column in IL\n",
    "IL_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    IL_med_rent = np.median(IL_state_df[i])\n",
    "\n",
    "    IL_med_list.append(IL_med_rent)\n",
    "\n",
    "print(IL_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "id": "74e1d115",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting IL med rent prices for each month and year into a DF\n",
    "IL_med_df = pd.DataFrame(IL_med_list, columns_list).T \n",
    "\n",
    "IL_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "id": "197cecc4",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Califonia Combined Median Rents\n",
    "CA_med_list = []\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    CA_med_rent = np.median(CA_state_df[i])\n",
    "\n",
    "    CA_med_list.append(CA_med_rent)\n",
    "\n",
    "print(CA_med_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "id": "0f28ac49",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting CA med rent prices for each month and year into a DF\n",
    "CA_med_df = pd.DataFrame(CA_med_list, columns_list).T \n",
    "\n",
    "CA_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "id": "0bc21ab4",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Finding the median for all TX rent prices per month/year\n",
    "TX_med_list=[]\n",
    "for i in columns_list:\n",
    "\n",
    "    TX_med_rent = np.median(TX_state_df[i])\n",
    "\n",
    "    TX_med_list.append(TX_med_rent)\n",
    "\n",
    "print(TX_med_list)  \n",
    "\n",
    "   "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "id": "333670d5",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Putting TX med rent prices for each month and year into a DF\n",
    "TX_med_df = pd.DataFrame(TX_med_list, columns_list).T \n",
    "\n",
    "TX_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "id": "0a131ecc",
   "metadata": {},
   "outputs": [],
   "source": [
    "#New York\n",
    "NY_med_list=[]\n",
    "\n",
    "for i in columns_list:\n",
    "\n",
    "    NY_med_rent = np.median(NY_state_df[i])\n",
    "    NY_med_list.append(NY_med_rent)\n",
    "\n",
    "print(NY_med_list)  "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "id": "08d80882",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Putting NY med rent prices for each month and year into a DF\n",
    "NY_med_df = pd.DataFrame(NY_med_list, columns_list).T \n",
    "\n",
    "NY_med_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "id": "f24ab490",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Combined Median rent data for 4 states\n",
    "TX_CA_df = pd.concat([TX_med_df, CA_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "IL_NY_df = pd.concat([IL_med_df, NY_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "states_med_rent = pd.concat([TX_CA_df, IL_NY_df], axis=0, ignore_index=True)\n",
    "\n",
    "#0 = TX, 1 = CA, 2 = IL, 3 = NY\n",
    "states_med_rent.insert(0, \"States\", [\"TX\", \"CA\", \"IL\", \"NY\"])\n",
    "\n",
    "states_med_rent.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "id": "abdea338",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Create a table with US Med in it\n",
    "\n",
    "ALL_med_rent = pd.concat([states_med_rent, US_med_df], axis=0, ignore_index=True)\n",
    "\n",
    "#ALL_med_rent.reset_index(drop=True)\n",
    "#ALL_med_rent.set_index('State', inplace=True, drop=True)\n",
    "#ALL_med_rent[ALL_med_rent.index[-1]] = \"US\"\n",
    "ALL_med_rent.insert(0, \"State\", [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"])\n",
    "\n",
    "ALL_med_rent.drop([\"States\"], axis = 1, inplace=True)\n",
    "ALL_med_rent.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "id": "76a5f701",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for TX by year and make df\n",
    "TX_2011_rents = [1194.0, 1189.0, 1186.0, 1183.0, 1182.0, 1189.0, 1184.0, 1179.0, 1181.0, 1174.0, 1173.0, 1167.0]\n",
    "TX_2012_rents = [1164.0, 1162.0, 1165.0, 1159.0, 1155.0, 1158.0, 1168.0, 1172.0, 1177.0, 1179.0, 1173.0, 1171.0]\n",
    "TX_2013_rents = [1175.0, 1174.0, 1181.0, 1196.0, 1202.0, 1200.0, 1197.0, 1201.0, 1205.0, 1208.0, 1212.0, 1221.0]\n",
    "TX_2014_rents = [1224.0, 1224.0, 1222.0, 1225.0, 1221.0, 1218.0, 1221.0, 1234.0, 1245.0, 1256.0, 1272.0, 1275.0]\n",
    "TX_2015_rents = [1282.0, 1287.0, 1289.0, 1297.0, 1300.0, 1309.0, 1313.0, 1319.0, 1323.0, 1325.0, 1320.0, 1312.0]\n",
    "TX_2016_rents = [1313.0, 1319.0, 1326.0, 1325.0, 1338.0, 1346.0, 1350.0, 1343.0, 1340.0, 1335.0, 1335.0, 1337.0]\n",
    "\n",
    "\n",
    "TX_2011_med = np.median(TX_2011_rents)\n",
    "TX_2012_med = np.median(TX_2012_rents)\n",
    "TX_2013_med = np.median(TX_2013_rents)\n",
    "TX_2014_med = np.median(TX_2014_rents)\n",
    "TX_2015_med = np.median(TX_2015_rents)\n",
    "TX_2016_med = np.median(TX_2016_rents)\n",
    "\n",
    "TX_yearly_rent = {\"2011\":[TX_2011_med], \"2012\" :[TX_2012_med], \"2013\" :[TX_2013_med], \"2014\" :[TX_2014_med], \"2015\" :[TX_2015_med], \"2016\" :[TX_2016_med]}\n",
    "\n",
    "TX_yearly_rent_df = pd.DataFrame(TX_yearly_rent)\n",
    "\n",
    "TX_yearly_rent_df.insert(0, \"State\", [\"TX\"])\n",
    "\n",
    "TX_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "TX_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "id": "07c19de0",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for CA by year and make df\n",
    "CA_2011_rents = [1770.0, 1754.0, 1738.5, 1729.0, 1716.5, 1717.5, 1719.5, 1718.0, 1712.5, 1710.5, 1710.0, 1705.0]\n",
    "CA_2012_rents = [1702.5, 1695.5, 1696.5, 1697.0, 1700.5, 1713.5, 1710.5, 1709.0, 1702.0, 1704.5, 1700.0, 1701.0]\n",
    "CA_2013_rents = [1707.5, 1718.5, 1728.0, 1735.0, 1743.0, 1756.5, 1763.0, 1764.5, 1767.0, 1773.5, 1779.5, 1781.5]\n",
    "CA_2014_rents = [1782.5, 1781.0, 1785.5, 1784.5, 1787.0, 1790.0, 1794.0, 1807.5, 1824.0, 1842.5, 1859.5, 1875.0]\n",
    "CA_2015_rents = [1885.0, 1899.0, 1907.0, 1921.5, 1935.0, 1946.0, 1957.0, 1969.0, 1977.0, 1982.0, 1995.0, 2004.0]\n",
    "CA_2016_rents = [2014.5, 2036.5, 2056.0, 2062.5, 2072.0, 2092.0, 2104.0, 2115.0, 2124.5, 2128.5, 2134.0, 2150.5]\n",
    "\n",
    "CA_2011_med = np.median(CA_2011_rents)\n",
    "CA_2012_med = np.median(CA_2012_rents)\n",
    "CA_2013_med = np.median(CA_2013_rents)\n",
    "CA_2014_med = np.median(CA_2014_rents)\n",
    "CA_2015_med = np.median(CA_2015_rents)\n",
    "CA_2016_med = np.median(CA_2016_rents)\n",
    "\n",
    "CA_yearly_rent = {\"2011\":[CA_2011_med], \"2012\" :[CA_2012_med], \"2013\" :[CA_2013_med], \"2014\" :[CA_2014_med], \"2015\" :[CA_2015_med], \"2016\" :[CA_2016_med]}\n",
    "\n",
    "CA_yearly_rent_df = pd.DataFrame(CA_yearly_rent)\n",
    "\n",
    "CA_yearly_rent_df.insert(0, \"State\", [\"CA\"])\n",
    "\n",
    "CA_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "CA_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "id": "bec74686",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for IL by year and make df\n",
    "IL_2011_rents = [1425.0, 1426.0, 1422.5, 1421.5, 1413.5, 1406.5, 1392.5, 1382.0, 1380.0, 1370.0, 1363.5, 1355.5]\n",
    "IL_2012_rents = [1349.0, 1344.0, 1341.0, 1344.0, 1344.0, 1347.5, 1347.0, 1346.0, 1351.0, 1359.5, 1371.0, 1370.0]\n",
    "IL_2013_rents = [1364.5, 1351.5, 1345.5, 1347.0, 1354.0, 1360.0, 1363.0, 1364.5, 1372.5, 1379.0, 1385.5, 1392.0]\n",
    "IL_2014_rents = [1399.0, 1400.5, 1395.0, 1393.0, 1387.0, 1385.5, 1379.5, 1384.0, 1385.0, 1386.5, 1397.0, 1406.5]\n",
    "IL_2015_rents = [1411.5, 1408.0, 1416.5, 1414.5, 1413.0, 1413.0, 1414.5, 1414.0, 1411.0, 1403.0, 1398.5, 1396.0]\n",
    "IL_2016_rents = [1405.5, 1408.0, 1413.0, 1416.5, 1424.5, 1424.0, 1431.0, 1426.5, 1418.0, 1410.0, 1405.0, 1397.0]\n",
    "\n",
    "IL_2011_med = np.median(IL_2011_rents)\n",
    "IL_2012_med = np.median(IL_2012_rents)\n",
    "IL_2013_med = np.median(IL_2013_rents)\n",
    "IL_2014_med = np.median(IL_2014_rents)\n",
    "IL_2015_med = np.median(IL_2015_rents)\n",
    "IL_2016_med = np.median(IL_2016_rents)\n",
    "\n",
    "IL_yearly_rent = {\"2011\":[IL_2011_med], \"2012\" :[IL_2012_med], \"2013\" :[IL_2013_med], \"2014\" :[IL_2014_med], \"2015\" :[IL_2015_med], \"2016\" :[IL_2016_med]}\n",
    "\n",
    "IL_yearly_rent_df = pd.DataFrame(IL_yearly_rent)\n",
    "\n",
    "IL_yearly_rent_df.insert(0, \"State\", [\"IL\"])\n",
    "\n",
    "IL_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "IL_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "id": "2d642c4e",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for NY by year and make df\n",
    "NY_2011_rents = [1369.5, 1383.5, 1380.5, 1388.0, 1390.5, 1401.0, 1401.0, 1399.0, 1397.0, 1399.0, 1400.5, 1399.0]\n",
    "NY_2012_rents = [1391.5, 1383.0, 1376.0, 1378.0, 1396.0, 1411.0, 1428.5, 1438.0, 1437.5, 1431.0, 1417.5, 1416.0]\n",
    "NY_2013_rents = [1419.5, 1432.0, 1434.0, 1431.5, 1434.0, 1418.5, 1384.5, 1368.5, 1366.5, 1379.0, 1398.5, 1395.0]\n",
    "NY_2014_rents = [1378.5, 1360.0, 1357.5, 1351.0, 1341.0, 1342.0, 1362.5, 1382.0, 1400.5, 1410.0, 1418.5, 1430.0]\n",
    "NY_2015_rents = [1440.5, 1443.0, 1449.0, 1448.5, 1444.5, 1437.5, 1428.5, 1403.0, 1388.5, 1376.0, 1371.5, 1363.0]\n",
    "NY_2016_rents = [1368.0, 1365.0, 1374.5, 1380.0, 1385.5, 1390.5, 1401.5, 1399.0, 1394.5, 1392.5, 1389.5, 1386.5]\n",
    "\n",
    "NY_2011_med = np.median(NY_2011_rents)\n",
    "NY_2012_med = np.median(NY_2012_rents)\n",
    "NY_2013_med = np.median(NY_2013_rents)\n",
    "NY_2014_med = np.median(NY_2014_rents)\n",
    "NY_2015_med = np.median(NY_2015_rents)\n",
    "NY_2016_med = np.median(NY_2016_rents)\n",
    "\n",
    "NY_yearly_rent = {\"2011\":[NY_2011_med], \"2012\" :[NY_2012_med], \"2013\" :[NY_2013_med], \"2014\" :[NY_2014_med], \"2015\" :[NY_2015_med], \"2016\" :[NY_2016_med]}\n",
    "\n",
    "NY_yearly_rent_df = pd.DataFrame(NY_yearly_rent)\n",
    "\n",
    "NY_yearly_rent_df.insert(0, \"State\", [\"NY\"])\n",
    "\n",
    "NY_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "NY_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "id": "68d1cfa7",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for US by year and make df\n",
    "US_2011_rents = [1218.0, 1219.0, 1220.0, 1220.0, 1218.0, 1217.0, 1214.0, 1213.0, 1210.0, 1207.0, 1206.0, 1205.0]\n",
    "US_2012_rents = [1204.0, 1205.0, 1207.0, 1206.0, 1205.0, 1205.0, 1205.0, 1206.0, 1208.0, 1210.0, 1215.0, 1215.0]\n",
    "US_2013_rents = [1215.0, 1216.0, 1217.0, 1217.0, 1218.0, 1221.0, 1224.0, 1225.0, 1228.0, 1231.0, 1235.0, 1236.0]\n",
    "US_2014_rents = [1236.0, 1234.0, 1232.0, 1229.0, 1227.0, 1223.0, 1226.0, 1232.0, 1245.0, 1253.0, 1259.0, 1263.0]\n",
    "US_2015_rents = [1269.0, 1272.0, 1276.0, 1280.0, 1284.0, 1289.0, 1295.0, 1299.0, 1298.0, 1294.0, 1293.0, 1292.0]\n",
    "US_2016_rents = [1294.0, 1298.0, 1303.0, 1308.0, 1312.0, 1313.0, 1311.0, 1306.0, 1305.0, 1305.0, 1307.0, 1308.0]\n",
    "\n",
    "US_2011_med = np.median(US_2011_rents)\n",
    "US_2012_med = np.median(US_2012_rents)\n",
    "US_2013_med = np.median(US_2013_rents)\n",
    "US_2014_med = np.median(US_2014_rents)\n",
    "US_2015_med = np.median(US_2015_rents)\n",
    "US_2016_med = np.median(US_2016_rents)\n",
    "\n",
    "US_yearly_rent = {\"2011\":[US_2011_med], \"2012\" :[US_2012_med], \"2013\" :[US_2013_med], \"2014\" :[US_2014_med], \"2015\" :[US_2015_med], \"2016\" :[US_2016_med]}\n",
    "\n",
    "US_yearly_rent_df = pd.DataFrame(US_yearly_rent)\n",
    "\n",
    "US_yearly_rent_df.insert(0, \"State\", [\"US\"])\n",
    "\n",
    "US_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "US_yearly_rent_df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 114,
   "id": "c77dff67",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Graph of US Rent change from 2011-2016\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[4,[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 115,
   "id": "10f0ded5",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Graph of US Rent change from 2011-2016\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"US\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "id": "fa093764",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating line graph showing all 4 states median rent prices throughout time\n",
    "\n",
    "years = [\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]\n",
    "\n",
    "TX_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"TX\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Texas\", color=\"blue\") \n",
    "\n",
    "CA_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"CA\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"California\", color=\"orange\") \n",
    "\n",
    "IL_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"IL\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"Illinois\", color=\"green\") \n",
    "\n",
    "NY_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"NY\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"New York\", color=\"red\") \n",
    "\n",
    "US_graph = plt.plot(years, ALL_yearly_rent_df.loc[\"US\",[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\",]], label=\"US\", color=\"purple\") \n",
    "\n",
    "legend_list = [\"TX\", \"CA\", \"IL\", \"NY\", \"US\"]\n",
    "plt.legend([\"TX\", \"CA\", \"IL\", \"NY\", \"US\"], loc=\"best\")\n",
    "\n",
    "\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Cost of Rent (USD)\")\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 117,
   "id": "944c5690",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Creating a bar graph to show the cahnge in rent (%)\n",
    "rent_change_bar = ALL_yearly_rent_df['Rent Change (%)'].plot(kind=\"bar\", color=[\"blue\", \"yellow\", \"green\", \"red\", \"purple\"], figsize=(8,6),\n",
    "                                   title=\"Rent Change by State (%)\",\n",
    "                                   xlabel=\"State\",\n",
    "                                   ylabel=\"Percent of Change\")\n",
    "rent_change_bar.axhline(y=0, color= 'black', linewidth=1,)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 118,
   "id": "e71c83b8",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"], y=['TX', 'CA', 'IL', 'NY'], grid=True, figsize=(8,8),\n",
    "              title=\"Rent vs Year\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 119,
   "id": "90abda95",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=['TX', 'CA', 'IL', 'NY'], y=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"], grid=True, figsize=(8,8),\n",
    "              title=\"Rent vs Year\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 120,
   "id": "f19ce439",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", y=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"], grid=True, figsize=(8,8),\n",
    "              title=\"Rent vs Year\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 121,
   "id": "46f0337f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", y=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"], grid=True, figsize=(8,8),\n",
    "              )\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 122,
   "id": "6239e261",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", y=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"], grid=True, figsize=(8,8))\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 123,
   "id": "1931c9e3",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "ALL_yearly_rent_df.plot(kind=\"scatter\", x=\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", y=[\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"])\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 124,
   "id": "5d44654c",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "plt.xlabel('Income Per Capita')\n",
    "plt.ylabel('Average Alcohol Consumed Per Person Per Year (L)')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 125,
   "id": "b0ea59d5",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "plt.xlabel('Year')\n",
    "plt.ylabel('Median Rent Price')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "id": "25e20515",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x='2011', y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 127,
   "id": "2240949d",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=[2011], y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 128,
   "id": "e1297d85",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=2011, y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 129,
   "id": "eb541a12",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=2, 2, 4 6, 7, y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "id": "3aedcbf0",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=2, 2, 4, 6, 7, y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 131,
   "id": "078bd1bb",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=(2, 2, 4, 6, 7), y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 132,
   "id": "5011ee74",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "ax1=ALL_yearly_rent_df.plot(kind='scatter', x=[2, 2, 4, 6, 7], y= years, color='r', label='A')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "id": "83100581",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "  df.plot(x='x', y='y')\n",
    "  plt.grid(True)\n",
    "  plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "id": "59caae23",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y')\n",
    "plt.grid(True)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "id": "76722a71",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "id": "f2043780",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Rent Cost ($)\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "id": "fe7b7b72",
   "metadata": {},
   "outputs": [],
   "source": [
    "year = [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016]\n",
    "rent_cost = [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]\n",
    "correlation = st.pearsonr(rent_cost,year)\n",
    "print(f\"The correlation between both factors is {round(correlation[0],2)}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "id": "6186a1ea",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Rent Cost ($)\")\n",
    "\n",
    "\n",
    "year = [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016]\n",
    "rent_cost = [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]\n",
    "(slope, intercept, rvalue, pvalue, stderr) = linregress(year, rent_cost)\n",
    "regress_values = x_values * slope + intercept\n",
    "line_eq = \"y = \" + str(round(slope,2)) + \"x + \" + str(round(intercept,2))\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "id": "cb75187a",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Rent Cost ($)\")\n",
    "\n",
    "\n",
    "year = [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016]\n",
    "rent_cost = [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]\n",
    "(slope, intercept, rvalue, pvalue, stderr) = linregress(year, rent_cost)\n",
    "regress_values = year * slope + intercept\n",
    "line_eq = \"y = \" + str(round(slope,2)) + \"x + \" + str(round(intercept,2))\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 140,
   "id": "3f45c68a",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Rent Cost ($)\")\n",
    "\n",
    "\n",
    "year = [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016]\n",
    "rent_cost = [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]\n",
    "(slope, intercept, rvalue, pvalue, stderr) = linregress(year, rent_cost)\n",
    "regress_values = year * slope + intercept\n",
    "line_eq = \"y = \" + str(round(slope,2)) + \"x + \" + str(round(intercept,2))\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 141,
   "id": "0d8316c0",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Making a scatterplot for correlation check\n",
    "\n",
    "#plt.scatter(ALL_yearly_rent_df.iloc[:,1],ALL_yearly_rent_df.iloc[:,2])\n",
    "#plt.xlabel('Year')\n",
    "#plt.ylabel('Median Rent Price')\n",
    "#plt.show()\n",
    "\n",
    "scatter_df = pd.DataFrame({'x': [2011,2011, 2011, 2011, 2012, 2012, 2012, 2012, 2013, 2013, 2013, 2013, 2014, 2014, 2014, 2014, 2015, 2015, 2015, 2015, 2016, 2016, 2016, 2016],\n",
    "                   'y' : [1182.50,1717.75,1399.50,1398.00, 1166.50,1701.50,1347.25,1413.50,1200.50,1759.75,1363.75,1408.50,1224.5,1792.0,1390.0,1370.5,1310.50,1951.50,1412.25,1433.00,1336.00,2098.00,1414.75,1388.00]})\n",
    "scatter_df.plot(x='x', y='y', kind = 'scatter')\n",
    "plt.grid(True)\n",
    "plt.xlabel(\"Year\")\n",
    "plt.ylabel(\"Rent Cost ($)\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 142,
   "id": "8e050f9f",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for US by year and make df\n",
    "US_2011_rents = [1218.0, 1219.0, 1220.0, 1220.0, 1218.0, 1217.0, 1214.0, 1213.0, 1210.0, 1207.0, 1206.0, 1205.0]\n",
    "US_2012_rents = [1204.0, 1205.0, 1207.0, 1206.0, 1205.0, 1205.0, 1205.0, 1206.0, 1208.0, 1210.0, 1215.0, 1215.0]\n",
    "US_2013_rents = [1215.0, 1216.0, 1217.0, 1217.0, 1218.0, 1221.0, 1224.0, 1225.0, 1228.0, 1231.0, 1235.0, 1236.0]\n",
    "US_2014_rents = [1236.0, 1234.0, 1232.0, 1229.0, 1227.0, 1223.0, 1226.0, 1232.0, 1245.0, 1253.0, 1259.0, 1263.0]\n",
    "US_2015_rents = [1269.0, 1272.0, 1276.0, 1280.0, 1284.0, 1289.0, 1295.0, 1299.0, 1298.0, 1294.0, 1293.0, 1292.0]\n",
    "US_2016_rents = [1294.0, 1298.0, 1303.0, 1308.0, 1312.0, 1313.0, 1311.0, 1306.0, 1305.0, 1305.0, 1307.0, 1308.0]\n",
    "\n",
    "US_2011_med = np.median(US_2011_rents)\n",
    "US_2012_med = np.median(US_2012_rents)\n",
    "US_2013_med = np.median(US_2013_rents)\n",
    "US_2014_med = np.median(US_2014_rents)\n",
    "US_2015_med = np.median(US_2015_rents)\n",
    "US_2016_med = np.median(US_2016_rents)\n",
    "\n",
    "US_yearly_rent = {\"2011\":[US_2011_med], \"2012\" :[US_2012_med], \"2013\" :[US_2013_med], \"2014\" :[US_2014_med], \"2015\" :[US_2015_med], \"2016\" :[US_2016_med]}\n",
    "\n",
    "US_yearly_rent_df = pd.DataFrame(US_yearly_rent)\n",
    "\n",
    "US_yearly_rent_df.insert(0, \"State\", [\"US\"])\n",
    "\n",
    "US_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "US_yearly_rent_df.head(10)\n",
    "\n",
    "year = [2011,2012,2013,2014,2015,2016]\n",
    "rent_cost = [US_2011_med,US_2012_med,US_2013_med,US_2014_med,US_2015_med,US_2016_med]\n",
    "correlation = st.pearsonr(rent_cost,year)\n",
    "print(f\"The correlation between both factors is {round(correlation[0],2)}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 143,
   "id": "8ec2b791",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Get median rent for US by year and make df\n",
    "US_2011_rents = [1218.0, 1219.0, 1220.0, 1220.0, 1218.0, 1217.0, 1214.0, 1213.0, 1210.0, 1207.0, 1206.0, 1205.0]\n",
    "US_2012_rents = [1204.0, 1205.0, 1207.0, 1206.0, 1205.0, 1205.0, 1205.0, 1206.0, 1208.0, 1210.0, 1215.0, 1215.0]\n",
    "US_2013_rents = [1215.0, 1216.0, 1217.0, 1217.0, 1218.0, 1221.0, 1224.0, 1225.0, 1228.0, 1231.0, 1235.0, 1236.0]\n",
    "US_2014_rents = [1236.0, 1234.0, 1232.0, 1229.0, 1227.0, 1223.0, 1226.0, 1232.0, 1245.0, 1253.0, 1259.0, 1263.0]\n",
    "US_2015_rents = [1269.0, 1272.0, 1276.0, 1280.0, 1284.0, 1289.0, 1295.0, 1299.0, 1298.0, 1294.0, 1293.0, 1292.0]\n",
    "US_2016_rents = [1294.0, 1298.0, 1303.0, 1308.0, 1312.0, 1313.0, 1311.0, 1306.0, 1305.0, 1305.0, 1307.0, 1308.0]\n",
    "\n",
    "US_2011_med = np.median(US_2011_rents)\n",
    "US_2012_med = np.median(US_2012_rents)\n",
    "US_2013_med = np.median(US_2013_rents)\n",
    "US_2014_med = np.median(US_2014_rents)\n",
    "US_2015_med = np.median(US_2015_rents)\n",
    "US_2016_med = np.median(US_2016_rents)\n",
    "\n",
    "US_yearly_rent = {\"2011\":[US_2011_med], \"2012\" :[US_2012_med], \"2013\" :[US_2013_med], \"2014\" :[US_2014_med], \"2015\" :[US_2015_med], \"2016\" :[US_2016_med]}\n",
    "\n",
    "US_yearly_rent_df = pd.DataFrame(US_yearly_rent)\n",
    "\n",
    "US_yearly_rent_df.insert(0, \"State\", [\"US\"])\n",
    "\n",
    "US_yearly_rent_df.set_index('State', inplace=True, drop=True)\n",
    "\n",
    "US_yearly_rent_df.head(10)\n",
    "\n",
    "#ayear = [2011,2012,2013,2014,2015,2016]\n",
    "#rent_cost = [US_2011_med,US_2012_med,US_2013_med,US_2014_med,US_2015_med,US_2016_med]\n",
    "#correlation = st.pearsonr(rent_cost,year)\n",
    "#print(f\"The correlation between both factors is {round(correlation[0],2)}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "id": "8e007a74",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Dependencies and Set Up\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import scipy.stats as st\n",
    "from scipy.stats import linregress\n",
    "import seaborn as sns  # For heatmap visualization"
   ]
  }
 ],
 "metadata": {},
 "nbformat": 4,
 "nbformat_minor": 5
}
